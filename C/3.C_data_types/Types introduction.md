# C 语言数据类型详解

## 整数类型

下表列出了关于标准整数类型的存储大小和值范围的细节：

| 类型             | 存储大小     | 值范围                                               |
| -------------- | -------- | ------------------------------------------------- |
| char           | 1 字节     | -128 到 127 或 0 到 255                              |
| unsigned char  | 1 字节     | 0 到 255                                           |
| signed char    | 1 字节     | -128 到 127                                        |
| int            | 2 或 4 字节 | -32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647 |
| unsigned int   | 2 或 4 字节 | 0 到 65,535 或 0 到 4,294,967,295                    |
| short          | 2 字节     | -32,768 到 32,767                                  |
| unsigned short | 2 字节     | 0 到 65,535                                        |
| long           | 4 字节     | -2,147,483,648 到 2,147,483,647                    |
| unsigned long  | 4 字节     | 0 到 4,294,967,295                                 |

> **注意**：各种类型的存储大小与系统位数有关，但目前通用的以64位系统为主。

### 系统位数对存储的影响

为了得到某个类型或变量的准确大小，可使用 `sizeof` 运算符。例如：

```c
#include <stdio.h>
#include <limits.h>
 
int main()
{
   printf("int 存储大小 : %lu \n", sizeof(int));
   
   return 0;
}
```

`%lu` 为 32 位无符号整数格式说明符。

## 浮点类型

下表列出了关于标准浮点类型的存储大小、值范围和精度的细节：

| 类型          | 存储大小  | 值范围                   | 精度      |
| ----------- | ----- | --------------------- | ------- |
| float       | 4 字节  | 1.2E-38 到 3.4E+38     | 6 位有效位  |
| double      | 8 字节  | 2.3E-308 到 1.7E+308   | 15 位有效位 |
| long double | 16 字节 | 3.4E-4932 到 1.1E+4932 | 19 位有效位 |

头文件 `float.h` 定义了宏（如 `FLT_MIN`、`FLT_MAX`），用于获取浮点类型的范围值。

```c
#include <stdio.h>
#include <float.h>
 
int main()
{
   printf("float 存储最大字节数 : %lu \n", sizeof(float));
   printf("float 最小值: %E\n", FLT_MIN );
   printf("float 最大值: %E\n", FLT_MAX );
   printf("精度值: %d\n", FLT_DIG );
   
   return 0;
}
```

**%E** 为以指数形式输出单、双精度实数，详细说明查看 [C 库函数 - printf()](https://www.runoob.com/cprogramming/c-function-printf.html)。

$$
当您在 Linux 上编译并执行上面的程序时，它会产生下列结果：
$$

> float 存储最大字节数 : 4 
> float 最小值: 1.175494E-38
> float 最大值: 3.402823E+38
> 精度值: 6

## void 类型

void 类型指定没有可用的值，主要用于以下场景：

1. **函数返回为空**  
   例如：`void exit(int status);`

2. **函数参数为空**  
   例如：`int rand(void);`

3. **指针指向 void**  
   例如：内存分配函数 `void *malloc(size_t size);` 返回通用指针。

## 类型转换

类型转换分为隐式和显式两种：

### 1. 隐式类型转换

自动发生在表达式中，通常将较小类型转换为较大类型。例如：

```c
int i = 10;
float f = 3.14;
double d = i + f; // int → double
```

隐式类型转换也可能会导致数据精度丢失或数据截断。

### 2. 显式类型转换

通过强制类型转换运算符 `(type)` 实现。例如：

```c
double d = 3.14159;
int i = (int)d; // double → int（截断小数部分）
```

强制类型转换可以使程序员在必要时对数据类型进行更精确的控制，但也可能会导致数据丢失或截断。
